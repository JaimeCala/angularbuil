{"version":3,"file":"src_app_components_admin_masvendidos_masvendidos_module_ts.js","mappings":"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","sources":["./src/app/components/admin/masvendidos/masvendidos-routing.module.ts","./src/app/components/admin/masvendidos/masvendidos.component.ts","./src/app/components/admin/masvendidos/masvendidos.component.html","./src/app/components/admin/masvendidos/masvendidos.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { MasvendidosComponent } from './masvendidos.component';\r\n\r\nconst routes: Routes = [{ path: '', component: MasvendidosComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MasvendidosRoutingModule {}\r\n","import {\r\n  AfterViewInit,\r\n  Component,\r\n  OnDestroy,\r\n  OnInit,\r\n  ViewChild,\r\n} from '@angular/core';\r\n\r\nimport {\r\n  PdfMakeWrapper,\r\n  Txt,\r\n  ITable,\r\n  Table,\r\n  Ol,\r\n  Ul,\r\n  Img,\r\n  Columns,\r\n} from 'pdfmake-wrapper';\r\n\r\nimport * as pdfFonts from 'pdfmake/build/vfs_fonts';\r\nimport { formatDate } from '@angular/common';\r\nimport {\r\n  VentasGeneral,\r\n  VentasProductoMasvendidos,\r\n} from '../../../models/venta.interface';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { VentaService } from '../../../service/venta.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\n\r\nPdfMakeWrapper.setFonts(pdfFonts);\r\n\r\n//para pdf\r\ntype TableRow = [string, string, string];\r\n\r\n@Component({\r\n  selector: 'app-masvendidos',\r\n  templateUrl: './masvendidos.component.html',\r\n  styleUrls: ['./masvendidos.component.css'],\r\n})\r\nexport class MasvendidosComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  listaMasVendidos: any = [];\r\n\r\n  private formBuilder: FormBuilder = new FormBuilder();\r\n  listaFiltroSearch: any = [];\r\n\r\n  public start = '';\r\n  public end = '';\r\n\r\n  displayedColumns: string[] = [\r\n    'nombre',\r\n    'sumacantidad',\r\n    'createdAt',\r\n    'actions',\r\n  ];\r\n\r\n  dataSource = new MatTableDataSource();\r\n  dataSourceUsuario = new MatTableDataSource();\r\n\r\n  private destroy$ = new Subject<any>();\r\n  private subscription: Subscription = new Subscription();\r\n\r\n  @ViewChild(MatSort) sort: MatSort;\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  searchKey: string;\r\n\r\n  constructor(\r\n    private ventaService: VentaService,\r\n    private dialogProducto: MatDialog\r\n  ) {\r\n    this.ventaService.listenVenta().subscribe((m: any) => {\r\n      //---------agregar servicio para listar producto---//\r\n      this.ObtenerListaProductosMasvendidos();\r\n    });\r\n  }\r\n  rangeForm = this.formBuilder.group({\r\n    start: ['', [Validators.required]],\r\n    end: ['', [Validators.required]],\r\n  });\r\n  ngOnInit(): void {\r\n    this.ObtenerListaProductosMasvendidos();\r\n    this.dataSource.filterPredicate = this.getFilterPredicate();\r\n  }\r\n\r\n  ObtenerListaProductosMasvendidos() {\r\n    this.subscription.add(\r\n      this.ventaService\r\n        .getVentaProductosMasvendidos()\r\n        .subscribe((productosmasvendidos) => {\r\n          this.dataSource.data = productosmasvendidos;\r\n          this.listaMasVendidos = productosmasvendidos;\r\n\r\n          this.dataSource.paginator = this.paginator;\r\n        })\r\n    );\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.dataSource.sort = this.sort;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next({});\r\n    this.destroy$.complete();\r\n    this.subscription.unsubscribe();\r\n  }\r\n\r\n  getFilterPredicate() {\r\n    return (data: any, filter: string) => {\r\n      const filterArray = filter.split('$');\r\n\r\n      const DateStarted = filterArray[0];\r\n      const DateEnd = filterArray[1];\r\n\r\n      let filterData;\r\n\r\n      const matchFilter = [];\r\n\r\n      const fechapersonalizado = formatDate(\r\n        data.createdAt,\r\n        'yyyy-MM-dd',\r\n        'en_ES'\r\n      );\r\n      if (DateStarted && DateEnd) {\r\n        filterData =\r\n          fechapersonalizado >= DateStarted && fechapersonalizado <= DateEnd;\r\n\r\n        this.puchArrayToPrint(filterData, data, matchFilter);\r\n      }\r\n      return matchFilter.every(Boolean);\r\n    };\r\n  }\r\n  public puchArrayToPrint(filterData, data, matchFilter) {\r\n    if (filterData === true) {\r\n      this.listaFiltroSearch.push(data);\r\n    }\r\n\r\n    matchFilter.push(filterData);\r\n  }\r\n  public applyDateFilter() {\r\n    this.listaFiltroSearch.length = 0;\r\n\r\n    const fechaInicial = this.rangeForm.get('end').value;\r\n    const fechaFinal = this.rangeForm.get('start').value;\r\n\r\n    if (!fechaInicial && !fechaFinal) {\r\n    } else {\r\n      const fechaIni = formatDate(fechaInicial, 'yyyy-MM-dd', 'en_ES');\r\n      const fechaFin = formatDate(fechaFinal, 'yyyy-MM-dd', 'en_ES');\r\n\r\n      this.end = fechaIni === null || fechaIni === '' ? '' : fechaIni;\r\n      this.start = fechaFin === null || fechaFin === '' ? '' : fechaFin;\r\n\r\n      const filterValue = this.start + '$' + this.end;\r\n\r\n      this.dataSource.filter = filterValue.trim().toLowerCase();\r\n    }\r\n  }\r\n  public clearFilter() {\r\n    this.rangeForm.patchValue({\r\n      start: '',\r\n      end: '',\r\n    });\r\n    this.dataSource.filter = '';\r\n    this.listaFiltroSearch = [];\r\n  }\r\n\r\n  public cargarEnTablaSiCampoVacio(event: string) {\r\n    if (event == '') {\r\n      this.dataSource.data;\r\n    }\r\n  }\r\n\r\n  //------------------------generar pdf-----------------//\r\n  async createPdf() {\r\n    const pdf = new PdfMakeWrapper();\r\n\r\n    const fechapdf = formatDate(new Date(), 'dd-MM-yyyy', 'en_ES');\r\n    const horapdf = formatDate(new Date(), 'HH:mm:ss', 'en_ES');\r\n\r\n    pdf.add(\r\n      new Txt('MICROMARKET HOME SERVICE')\r\n        .alignment('center')\r\n        .bold()\r\n        .fontSize(18).end\r\n    );\r\n    pdf.add(\r\n      new Txt('DIRECCIÓN: Zona Zenkata').alignment('center').fontSize(14).end\r\n    );\r\n    pdf.add(\r\n      await new Img('../../../../assets/logocremasinfondo.png')\r\n        .alignment('center')\r\n        .width(100)\r\n        .height(100)\r\n        .build()\r\n    );\r\n\r\n    //pdf.pageOrientation('landscape');\r\n    pdf.pageMargins([50, 60]);\r\n\r\n    pdf.add(new Txt('FECHA: ' + fechapdf).alignment('right').fontSize(10).end);\r\n    pdf.add(new Txt('HORA: ' + horapdf).alignment('right').fontSize(10).end);\r\n    pdf.add('\\n');\r\n\r\n    pdf.add(new Txt('PRODUCTOS MÁS VENDIDOS').bold().fontSize(14).end);\r\n    pdf.add('\\n\\n');\r\n    if (this.listaFiltroSearch != '') {\r\n      pdf.add(this.createTable(this.listaFiltroSearch));\r\n    } else {\r\n      pdf.add(this.createTable(this.listaMasVendidos));\r\n    }\r\n    pdf.add('\\n');\r\n\r\n    pdf.create().open();\r\n  }\r\n  createTable(datos: VentasProductoMasvendidos[]): ITable {\r\n    [{}];\r\n    return new Table([\r\n      ['NOMBRE PRODUCTO', 'SUMA PRODUCTOS', 'FECHA VENTA'],\r\n\r\n      ...this.extractData(datos),\r\n    ]).end;\r\n  }\r\n\r\n  extractData(datos: VentasProductoMasvendidos[]): TableRow[] {\r\n    return datos.map((row) => {\r\n      const fechaformated = formatDate(row.createdAt, 'dd-MM-yyyy', 'en_ES');\r\n      return [row.nombre, row.sumacantidad, fechaformated];\r\n    });\r\n  }\r\n}\r\n","<div class=\"caja-range-btnAgrega-pdf\">\r\n  <div class=\"table-button-row\">\r\n    <button mat-flat-button class=\"button-rosado\" (click)=\"createPdf()\">\r\n      Imprimir Reporte\r\n    </button>\r\n  </div>\r\n\r\n  <div class=\"table-range\">\r\n    <form [formGroup]=\"rangeForm\">\r\n      <mat-form-field appearance=\"outline\" class=\"search-form-range\">\r\n        <mat-label>Rango de fechas</mat-label>\r\n        <mat-date-range-input [rangePicker]=\"picker\">\r\n          <input\r\n            matStartDate\r\n            formControlName=\"start\"\r\n            placeholder=\"Fecha inicial\"\r\n          />\r\n          <input matEndDate formControlName=\"end\" placeholder=\"Fecha final\" />\r\n        </mat-date-range-input>\r\n        <mat-hint>MM/DD/YYYY – MM/DD/YYYY</mat-hint>\r\n        <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n        <mat-date-range-picker #picker></mat-date-range-picker>\r\n\r\n        <mat-error\r\n          *ngIf=\"rangeForm.controls.start.hasError('matStartDateInvalid')\"\r\n          >Primera fecha inválido</mat-error\r\n        >\r\n        <mat-error *ngIf=\"rangeForm.controls.end.hasError('matEndDateInvalid')\"\r\n          >Segunda fecha inválido</mat-error\r\n        >\r\n      </mat-form-field>\r\n\r\n      <button\r\n        class=\"button-form-consultar\"\r\n        mat-raised-button\r\n        color=\"accent\"\r\n        (click)=\"applyDateFilter()\"\r\n        [disabled]=\"\r\n          rangeForm.get('start').invalid || rangeForm.get('end').invalid\r\n        \"\r\n      >\r\n        Consultar\r\n      </button>\r\n      <button\r\n        class=\"button-form-limpiar\"\r\n        mat-raised-button\r\n        color=\"accent\"\r\n        (click)=\"clearFilter()\"\r\n        [disabled]=\"\r\n          rangeForm.get('start').invalid || rangeForm.get('end').invalid\r\n        \"\r\n      >\r\n        Limpiar\r\n      </button>\r\n    </form>\r\n  </div>\r\n</div>\r\n\r\n<table mat-table [dataSource]=\"dataSource\" matSort>\r\n  <!-- Name Column -->\r\n  <ng-container matColumnDef=\"nombre\">\r\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n      NOMBRE <br />\r\n      PRODUCTO\r\n    </th>\r\n    <td mat-cell *matCellDef=\"let element\">{{ element.nombre }}</td>\r\n  </ng-container>\r\n\r\n  <!-- Weight Column -->\r\n  <ng-container matColumnDef=\"sumacantidad\">\r\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n      SUMA PRODUCTO<br />\r\n      MÁS VENDIDOS\r\n    </th>\r\n    <td mat-cell *matCellDef=\"let element\" class=\"center\">\r\n      {{ element.sumacantidad }}\r\n    </td>\r\n  </ng-container>\r\n\r\n  <!-- Name Column -->\r\n  <ng-container matColumnDef=\"createdAt\">\r\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n      FECHA <br />\r\n      VENTA\r\n    </th>\r\n    <td mat-cell *matCellDef=\"let element\">\r\n      {{ element.createdAt | date : \"dd-MM-YYYY\" }}\r\n    </td>\r\n  </ng-container>\r\n\r\n  <!-- Name Column -->\r\n  <ng-container matColumnDef=\"actions\">\r\n    <th mat-header-cell *matHeaderCellDef mat-sort-header class=\"actionCampo\">\r\n      ACCIONES\r\n    </th>\r\n    <td mat-cell *matCellDef=\"let element\">\r\n      <div class=\"table-button-row\">\r\n        <button\r\n          mat-button\r\n          mat-raised-button\r\n          class=\"button-yellow\"\r\n          (click)=\"onOpenModal(element)\"\r\n        >\r\n          Detalles\r\n        </button>\r\n      </div>\r\n    </td>\r\n  </ng-container>\r\n\r\n  <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n  <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\r\n</table>\r\n<mat-paginator\r\n  class=\"paginator\"\r\n  [pageSizeOptions]=\"[5, 10, 25, 100]\"\r\n  [pageSize]=\"5\"\r\n  showFirstLastButtons\r\n></mat-paginator>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { MasvendidosRoutingModule } from './masvendidos-routing.module';\r\nimport { MasvendidosComponent } from './masvendidos.component';\r\nimport { MaterialModule } from '../../../material.module';\r\n\r\n@NgModule({\r\n  declarations: [MasvendidosComponent],\r\n  imports: [CommonModule, MasvendidosRoutingModule, MaterialModule],\r\n})\r\nexport class MasvendidosModule {}\r\n"],"names":[],"sourceRoot":"webpack:///"}